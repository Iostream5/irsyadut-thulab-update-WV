<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no shrink-to-fit=no">
   <title>Irsyadut Thulab | Beranda</title>
   <meta name="description"
      content="Website yang menyediakan konten konten islami seperti Al-quran, Sunnah Nabi, Doa Sehari Hari, dll. Dengan desain yang sederhana dan mudah dinavigasi, website ini bertujuan untuk memberikan akses yang lebih luas kepada umat Islam dalam mempelajari, memahami, dan mengamalkan ajaran Islam." />
   <meta name="keywords" content="majmu syarif, Irsyadut Thulab, web islami, doa doa, doa sehari hari, alquran">
   <meta name="robots" content="index, follow">
   <link rel="icon" href="../assets/icon/logo projek.ico" type="image/x-icon">
   <link rel="shortcut icon" href="../assets/logo.png" />
   <link rel="stylesheet" href="../assets/css/core/libs.min.css" />
   <link rel="stylesheet" href="../assets/vendor/aos/dist/aos.css" />
   <link rel="stylesheet" href="../assets/css/hope-ui.min.css?v=2.0.0" />
   <link rel="stylesheet" href="../assets/css/custom.min.css?v=2.0.0" />
   <link rel="stylesheet" href="../assets/css/customizer.min.css" />
   <link rel="stylesheet" href="../assets/node_modules/sweetalert2/dist/sweetalert2.min.css">
   <link rel="stylesheet" href="../assets/fontawesome-free-6.6.0-web/css/all.min.css">
   <script defer src="../assets/api/cdn.min.js"></script>
</head>
<style>
   .truncate-multiline {
      display: -webkit-box;
      -webkit-line-clamp: 4;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
   }
   .truncate-multiline-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
   }
   .dropdown-menu.show {
      display: block;
   }
   .responsive-yt {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 12px;
   }
   .responsive-yt iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
   }
</style>
<body class="  " data-aos-easing="ease" data-aos-duration="700" data-aos-delay="0">
   <div id="loading">
      <div class="loader simple-loader">
         <div class="loader-body"></div>
      </div>
   </div>
   <aside id="body-sidebar" class="sidebar sidebar-default sidebar-white sidebar-base navs-rounded-all">
      <script type="module" src="../components/body-sidebar.js"></script>
   </aside>
   <main class="main-content overflow-hidden">
      <div id="main-cs-btn" class="position-relative iq-banner">
         <script src="../components/main-cs-btn.js"></script>
         <nav id="body-nav" class="nav navbar navbar-expand-lg navbar-light iq-navbar">
            <script type="module" src="../components/body-nav.js"></script>
         </nav>
         <div class="iq-navbar-header">
            <div class="flex-wrap text-center">
               <div id="carouselExampleInterval" class="container-fluid carousel slide" data-bs-ride="carousel">
                  <div class="carousel-inner rounded shadow">
                     <div class="carousel-item  position-relative active" data-bs-interval="3000">
                        <img src="../assets/images/dashboard/banner/banner1.png" class="d-block w-100 position-relative"
                           alt="...">
                     </div>
                     <div class="carousel-item  position-relative" data-bs-interval="3000">
                        <img src="../assets/images/dashboard/banner/banner2.png" class="d-block w-100 position-relative"
                           alt="...">
                     </div>
                     <div class="carousel-item  position-relative" data-bs-interval="3000">
                        <img src="../assets/images/dashboard/banner/banner3.png" class="d-block w-100 position-relative"
                           alt="...">
                     </div>
                     <div class="carousel-item  position-relative" data-bs-interval="3000">
                        <img src="../assets/images/dashboard/banner/banner4.png" class="d-block w-100 position-relative"
                           alt="...">
                     </div>
                  </div>
                  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval"
                     data-bs-slide="prev">
                     <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                     <span class="visually-hidden">Previous</span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval"
                     data-bs-slide="next">
                     <span class="carousel-control-next-icon" aria-hidden="true"></span>
                     <span class="visually-hidden">Next</span>
                  </button>
               </div>
            </div>
         </div>
      </div>
      <div class="container-fluid p-3">
         <div class="row">
            <div class="col-12">
               <div class="row row-cols-12">
                  <ul class="container p-0 mb-2">
                     <li class="card card-slide" data-aos="fade-up" data-aos-delay="700">
                        <div class="card-body  text-center">
                           <div class="row mt-2 p-1">
                              <div class="col-12 mb-3 d-flex justify-content-center">
                                 <div class="w-100 px-4 position-relative">
                                    <div class="mb-2 d-flex justify-content-center gap-2 align-items-center">
                                       <span class="fw-bold mx-lg-3 text-dark fs-3">بِسْمِ اللّٰهِ الرَّحْمٰنِ
                                          الرَّحِيْمِ</span>
                                    </div>
                                    <div class="input-group rounded position-relative" style="width: 100%;">
                                       <input type="search" class="form-control rounded dropdown-toggle"
                                          id="searchInput" placeholder="Cari Al-Quran, Doa, dll..."
                                          aria-label="Search" />
                                       <span class="input-group-text border-0">
                                          <i class="fas fa-search"></i>
                                       </span>
                                       <ul class="mt-5 dropdown-menu w-100 list-page sticky-top position-absolute"
                                          id="dropdownMenu" aria-labelledby="searchInput" x-data="loadSurat()"
                                          x-init="fetchData()">
                                          <script type="module" src="./search_page.js"></script>
                                       </ul>
                                    </div>
                                 </div>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/alquran.html"><img src="../assets/icon/quran.png"
                                       height="50px" alt="" />
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold">Al-Quran</h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/hadits.html"><img src="../assets/icon/hadits.png"
                                       height="50px" alt="" />
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold text-nowrap">Hadits<br>Pilihan
                                    </h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/sunnah.html"><img src="../assets/icon/bulan.png"
                                       height="50px" alt="" />
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold text-nowrap">Sunnah<br>Nabi
                                    </h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/maulid.html"><img src="../assets/icon/maulid.png"
                                       height="50px" alt="" />
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold text-nowrap">Maulid<br>Nabi
                                    </h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/doa.html"><img src="../assets/icon/doa.png"
                                       height="50px" alt="" />
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold">Doa<br>Doa</h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/sholawat.html">
                                    <img src="../assets/icon/sholawat.png" alt="" height="50px">
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold text-nowrap">Sholawat</h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/praktek.html">
                                    <img src="../assets/icon/solat.png" alt="" height="50px">
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold text-nowrap">Praktek<br>Ibadah
                                    </h6>
                                 </a>
                              </div>
                              <div class="nav-item mb-4 col-3">
                                 <a class="" href="../dashboard/jadwal_solat.html">
                                    <img src="../assets/icon/masjid.png" alt="" height="50px">
                                    <h6 style="font-size: 13px;" class=" mt-2 fw-bold text-nowrap">Waktu<br>Sholat
                                    </h6>
                                 </a>
                              </div>
                           </div>
                        </div>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="col-12">
               <div class="row">
                  <h4 class="fw-bolder mb-2 ms-2">Sering Dibaca</h4>
                  <div class="col-6 p-1">
                     <div class="card">
                        <div class="flex-wrap card-header d-flex justify-content-between align-items-center">
                           <div class="header-title gap-2 d-flex align-items-center">
                              <img src="../assets/icon/doa.png" height="40px" alt="">
                              <h6 class="fw-bolder">Doa-Doa</h6>
                           </div>
                        </div>
                        <div class="card-body m-0">
                           <h3 class="fw-bolder text-center">Tahlil</h3>
                           <div class="container">
                              <p class="fw-bold  truncate-multiline mt-3 text-center arabic-font"
                                 style="line-height: 2;">
                                 إِلَى حَضْرَةِ النَّبِيِّ الْمُصْطَفَى سَيِّدِنَا مُحمَّدٍ صَلَّى اللهُ عَلَيْهِ
                                 وَسَلَّمَ وَاٰلِهِ وَأَزْوَاجِهِ وَأَوْلَادِهِ وَذُرِّيَّاتِهِ الْفَــاتِحَةُ
                              </p>
                              <div class=" text-center">
                                 <a href="doa-doa/tahlil.html" class="btn btn-sm btn-primary">Baca😊</a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-6 p-1">
                     <div class="card">
                        <div class="flex-wrap card-header d-flex justify-content-between align-items-center">
                           <div class="header-title gap-2 d-flex align-items-center">
                              <img src="../assets/icon/quran.png" height="40px" alt="">
                              <h6 class="fw-bolder">Al-quran</h6>
                           </div>
                        </div>
                        <div class="card-body m-0">
                           <h3 class="fw-bolder text-center">Yasin</h3>
                           <div class="container">
                              <p class="fw-bold  truncate-multiline mt-3 text-center arabic-font"
                                 style="line-height: 2;">
                                 يٰسۤۚ ۝١وَالْقُرْاٰنِ الْحَكِيْمِۙ۝٢ اِنَّكَ لَمِنَ الْمُرْسَلِيْنَۙ ۝٣
                                 عَلٰى صِرَاطٍ مُّسْتَقِيْمٍۗ ۝٤تَنْزِيْلَ الْعَزِيْزِ الرَّحِيْمِۙ ۝٥
                              </p>
                              <div class=" text-center">
                                 <a href="./surat_alquran/detail.html?surat=36"
                                    class="btn btn-sm btn-primary">Baca😊</a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-12">
                     <div class="card">
                        <div class="flex-wrap card-header d-flex justify-content-between align-items-center">
                           <div class="header-title gap-2 d-flex align-items-center">
                              <img src="../assets/icon/quran.png" height="40px" alt="">
                              <h6 class="fw-bolder">Al-quran</h6>
                           </div>
                        </div>
                        <div class="card-body">
                           <h3 class="fw-bolder text-center">Ayat kursi</h3>
                           <div class="container">
                              <p class="fw-bold  truncate-multiline mt-3 text-center arabic-font"
                                 style="line-height: 2;">
                                 اَللّٰهُ لَآ اِلٰهَ اِلَّا هُوَۚ اَلْحَيُّ الْقَيُّوْمُ ەۚ لَا تَأْخُذُهٗ سِنَةٌ
                                 وَّلَا نَوْمٌۗ لَهٗ مَا فِى السَّمٰوٰتِ وَمَا فِى الْاَرْضِۗ مَنْ ذَا الَّذِيْ يَشْفَعُ
                                 عِنْدَهٗٓ اِلَّا بِاِذْنِهٖۗ يَعْلَمُ مَا بَيْنَ اَيْدِيْهِمْ وَمَا خَلْفَهُمْۚ وَلَا
                                 يُحِيْطُوْنَ بِشَيْءٍ مِّنْ عِلْمِهٖٓ اِلَّا بِمَا شَاۤءَۚ وَسِعَ كُرْسِيُّهُ
                                 السَّمٰوٰتِ وَالْاَرْضَۚ وَلَا يَـُٔوْدُهٗ حِفْظُهُمَاۚ وَهُوَ الْعَلِيُّ الْعَظِيْمُ
                                 (٢٥٥)
                              </p>
                              <p class="fw-bold truncate-multiline mt-3 text-center long-text">
                                 Artinya : <br> Allah, tidak ada tuhan selain Dia, Yang Mahahidup lagi terus-menerus
                                 mengurus (makhluk-Nya). Dia tidak dilanda oleh kantuk dan tidak (pula) oleh tidur.
                                 Milik-Nyalah apa yang ada di langit dan apa yang ada di bumi. Tidak ada yang dapat
                                 memberi syafaat di sisi-Nya tanpa izin-Nya. Dia mengetahui apa yang ada di hadapan
                                 mereka dan apa yang ada di belakang mereka. Mereka tidak mengetahui sesuatu apa pun
                                 dari ilmu-Nya, kecuali apa yang Dia kehendaki. Kursi-Nya (ilmu dan kekuasaan-Nya)
                                 meliputi langit dan bumi. Dia tidak merasa berat memelihara keduanya. Dialah yang
                                 Mahatinggi lagi Mahaagung.
                              </p>
                              <div class=" text-center">
                                 <a href="doa-doa/ayatkursi.html" class="btn btn-sm btn-primary">Baca😊</a>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="d-flex justify-content-between px-3">
                     <h4 class="fw-bolder mb-2 ms-2">Kajian</h4>
                     <a href="./stream.html">Lainnya >></a>
                  </div>
                  <div class="col-12">
                     <div id="live-videos">Loading...</div>
                  </div>
                  <div class="row m-0">
                     <div id="replay-videos"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <footer id="body-footer" class="footer">
         <script src="../components/body-footer.js"></script>
      </footer>
   </main>
   <script>
      document.addEventListener('DOMContentLoaded', function () {
         if (!localStorage.getItem('alertShown')) {
            Swal.fire({
               title: 'Assalamualaikum',
               text: 'Mohon Bantu Kami Dengan Memberitahu Jika Ada Kesalahan Tulis🙏',
               confirmButtonText: 'Lanjut Ke Aplikasi'
            }).then((result) => {
               localStorage.setItem('alertShown', 'true');
            });
         }
      });
      document.addEventListener('pause', function () {
         localStorage.removeItem('alertShown');
      });
   </script>
   <script>
      document.addEventListener('alpine:init', () => {
         Alpine.data('loadSurat', () => ({
            list: [],
            async fetchData() {
               const res = await fetch('../assets/api/quran.json');
               const json = await res.json();
               this.list = json.data;
               this.render();
            },
            render() {
               const target = document.querySelector('.list-page');
               this.list.forEach(surat => {
                  target.insertAdjacentHTML('afterbegin', `
                        <li>
                           <a href="./surat_alquran/detail.html?surat=${surat["surat-ke"]}" class="dropdown-item">
                               <div class="p-0">
                                     <h5 class="card-header p-0" style="font-size:10px;">Al-quran</h5>
                                     <div class="card-body p-0 m-0">
                                           <h5 class="card-title" style="font-size:15px;">${surat.name} (${surat["jumlah-surat"]})</h5>
                                           <small><i>${surat.artinya.indonesia}</i></small>
                                     </div>
                               </div>
                           </a>
                        </li>
                    `)
               });
            }
         }))
      })
   </script>
   <script>
      document.getElementById('searchInput').addEventListener('input', function () {
         var searchInput = this.value.toLowerCase().trim();
         var dropdownMenu = document.getElementById('dropdownMenu');
         var items = dropdownMenu.getElementsByTagName('li');
         let matchFound = false;
         let matchCount = 0;
         const maxVisibleItems = 6;
         if (searchInput !== "") {
            dropdownMenu.classList.add('show');
            for (var i = 0; i < items.length; i++) {
               var itemText = items[i].innerText.toLowerCase();
               if (itemText.includes(searchInput)) {
                  if (matchCount < maxVisibleItems) {
                     items[i].style.display = "block";
                     matchFound = true;
                     matchCount++;
                  } else {
                     items[i].style.display = "none";
                  }
               } else {
                  items[i].style.display = "none";
               }
            }
            if (!matchFound) {
               dropdownMenu.classList.remove('show');
            }
         } else {
            dropdownMenu.classList.remove('show');
         }
      });
      document.addEventListener('click', function (event) {
         var isClickInside = document.getElementById('searchInput').contains(event.target);
         if (!isClickInside) {
            document.getElementById('dropdownMenu').classList.remove('show');
         }
      });
   </script>
   <script>
      const scriptURL = "https://script.google.com/macros/s/AKfycbzj-P749IvpzjVPWol0sJEN2e4eLH49RVEcN2SlvIaCTCIql8JbvxHdPQQWksE1nt7u/exec";
      const cacheKey = 'yt_live_replay';
      const cacheExpireKey = 'yt_live_replay_expire';
      const now = Date.now();
      async function loadData() {
         const cached = localStorage.getItem(cacheKey);
         const expire = localStorage.getItem(cacheExpireKey);
         if (cached && expire && now < parseInt(expire)) {
            render(JSON.parse(cached));
         } else {
            try {
               const res = await fetch(scriptURL);
               const data = await res.json();
               localStorage.setItem(cacheKey, JSON.stringify(data));
               localStorage.setItem(cacheExpireKey, now + (60 * 60 * 1000)); // expire 1 jam
               render(data);
            } catch (err) {
               document.getElementById('live-videos').innerText = '❌ Gagal memuat livestream.';
               document.getElementById('replay-videos').innerText = '';
               console.error(err);
            }
         }
      }
      function refreshData() {
         localStorage.removeItem(cacheKey);
         localStorage.removeItem(cacheExpireKey);
         location.reload();
      }
      function render(data) {
         const liveContainer = document.getElementById('live-videos');
         const replayContainer = document.getElementById('replay-videos');
         const liveVideos = data.filter(v => v.isLive);
         const replayVideos = data.filter(v => !v.isLive);
         if (liveVideos.length === 0) {
            liveContainer.innerHTML = '<div class="card text-center pt-3"><p>Tidak ada livestream yang sedang berlangsung.</p><button class="btn btn-primary btn-sm text-light fw-bolder" onclick = "refreshData()" style = "margin-bottom: 1rem;" >🔄 Refresh Data</button></div>';
         } else {
            liveContainer.innerHTML = liveVideos.map(v => renderVideo(v)).join('');
         }
         if (replayVideos.length === 0) {
            replayContainer.innerHTML = '<div class="card text-center pt-3"><p>Belum ada replay livestream.</p></div>';
         } else {
            const latestReplay = replayVideos[0];
            replayContainer.innerHTML = renderVideo(latestReplay);
         }
      }
      function renderVideo(v) {
         return `
            <div class="card">
               <div class="flex-wrap card-header d-flex justify-content-between align-items-center">
                  <div class="header-title gap-2 d-flex align-items-center">
                     <img src="../assets/icon/live.png" height="40px" alt="">
                     <small class="fw-bolder truncate-multiline-2">${v.title}</small>
                  </div>
               </div>
               <div class="card-body">
                  <div class="container">
                     <div class="responsive-yt">
                        <iframe
                        src="https://www.youtube-nocookie.com/embed/${v.videoId}"
                        allowfullscreen frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
                        </iframe>
                     </div>
                     <div class="mt-2 text-start">
                        <small class="truncate-multiline-2">${v.description.replace(/\n/g, '<br>')}</small>
                     </div>
                  </div>
               </div>
            </div>
            `;
      }
      loadData();
   </script>
   <script src="../assets/js/core/libs.min.js"></script>
   <script src="../assets/js/core/external.min.js"></script>
   <script src="../assets/js/plugins/fslightbox.js"></script>
   <script src="../assets/js/plugins/slider-tabs.js"></script>
   <script src="../assets/vendor/aos/dist/aos.js"></script>
   <script src="../assets/js/hope-ui.js" defer></script>
   <script src="../assets/node_modules/sweetalert2/dist/sweetalert2.min.js"></script>
</body>
</html>